{"version":3,"sources":["index.js","device.js"],"names":[],"mappings":"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","file":"main.min.js","sourcesContent":["window.addEventListener('load', init);\n// global\nvar duoshuoQuery = {short_name:\"duxiaodong\"};\nfunction init() {\n    var html = $('html');\n    var body = $('body');\n    var isTouchScreen = function() {\n        return 'ontouchstart' in document.documentElement;\n    };\n    var defaultEvent = isTouchScreen() && !window.platform.isDesktop ? {\n        click: 'touchend'\n    } : {\n        click: 'click'\n    };\n    // header\n    var headerNav = $('.header').find('.nav-list');\n    var inner = $('li.each-block');\n    var timeAfterActive;\n    var pageString = '#page';\n\n    refreshIndex(inner);\n    $(window).on('hashchange', function() {\n        refreshIndex(inner);\n    });\n    inner.each(function(index) {\n        $(this).on(defaultEvent.click, function() {\n\n            if ($(this).hasClass('active')) {\n                // collapsePage(inner);\n            } else {\n                clearTimeout(timeAfterActive);\n                window.location.hash = pageString + (index + 1);\n            }\n        });\n    });\n\n    headerNav.find('.each-nav').each(function(index) {\n        $(this).on(defaultEvent.click, function() {\n\n            window.location.hash = pageString + (index + 1);\n        });\n    });\n\n    $('.back-index').on(defaultEvent.click, function() {\n        window.location.hash = '';\n        window.location.pathname = '/';\n    });\n\n    var pages = $('.pages');\n    pages.on(defaultEvent.click, 'a[data-pjax]', function(e) {\n        var page = $(this).data('pjax');\n        var opts = {\n            url: $(this).attr('href'),\n            container: '#page' + page + '-container'\n        };\n        $.pjax(opts);\n        $(opts.container).off('pjax:end');\n        $(opts.container).on('pjax:end', function() {\n            $('head link[href*=\"duoshuo.com\"]').remove();\n            $('head script[src*=\"duoshuo.com\"]').remove();\n            $('head style').remove();\n            $('#ds-notify').remove();\n            setTimeout(duoshuo, 1000);\n            // duoshuo();\n        });\n        e.preventDefault();\n    });\n\n    // duoshuo\n    function duoshuo() {\n        (function() {\n            var ds = document.createElement('script');\n            // ds.className = 'duoshuo';\n            ds.type = 'text/javascript';ds.async = true;\n            ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';\n            ds.charset = 'UTF-8';\n            (document.getElementsByTagName('head')[0] \n             || document.getElementsByTagName('body')[0]).appendChild(ds);\n        })();\n    }\n\n    // refresh\n    function refreshIndex(inner) {\n        var hash = window.location.hash;\n        if (/#page/.test(hash)) {\n            var index = hash.substring(5) - 1;\n            collapsePage(inner, true);\n            expandPage(inner, inner.eq(index));\n            sliderNav(index);\n        }\n        if (window.location.pathname === '/' && hash === '') {\n            collapsePage(inner);\n        }\n    }\n\n    // expand\n    function expandPage(inner, obj) {\n        inner.addClass('has-one-active');\n        obj.addClass('active');\n        obj.removeClass('has-one-active');\n\n        timeAfterActive = setTimeout(function() {\n            obj.addClass('after-active');\n            body.addClass('after-active');\n            var header = $('header.header');\n            if (!header.hasClass('active')) {\n                header.addClass('active');\n            }\n        }, 500);\n    }\n        // collapse\n    function collapsePage(inner, head) {\n        if (!$('header.header').hasClass('active')) {\n            return;\n        }\n        if (!head) {\n            $('header.header').removeClass('active');\n        }\n        $('li.each-block.active').removeClass('after-active active');\n        body.removeClass('after-active');\n        inner.removeClass('has-one-active');\n    }\n\n    // slider nav\n    function sliderNav(index) {\n        var eachNav = headerNav.find('.each-nav');\n        eachNav.each(function() {\n            if ($(this).hasClass('active')) {\n                $(this).removeClass('active');\n            }\n        });\n        eachNav.eq(index).addClass('active');\n        body.attr('data-page', (index + 1));\n    }\n\n    $.fn.swipe = function(direction, callback) {\n        if (this === []) {\n            return this;\n        }\n        this.each(function() {\n            var touchObj = this;\n            var x1 = null,\n                x2 = null,\n                y1 = null,\n                y2 = null;\n            var changeWidth = 100, changeHeight = 50;\n            touchObj.addEventListener('touchstart', function(event) {\n                if (event.touches.length == 1) {\n                    var touch = event.touches[0];\n                    x1 = touch.pageX;\n                    x2 = touch.pageX;\n                    y1 = touch.pageY;\n                    y2 = touch.pageY;\n                }\n            });\n            touchObj.addEventListener('touchmove', function(event) {\n                if (event.touches.length == 1) {\n                    var touch = event.touches[0];\n                    x2 = touch.pageX;\n                    y2 = touch.pageY;\n                }\n            });\n            touchObj.addEventListener('touchend', function(event) {\n                // left and right\n                if (x1 !== null && Math.abs(y2 - y1) < changeHeight ) {\n                    if (x2 - x1 > changeWidth) {\n                        if (direction === undefined) {\n                            $(touchObj).trigger('swipeRight');\n                        }\n                        if (direction === 'right') {\n                            callback();\n                        }\n\n                    } else if (x1 - x2 > changeWidth) {\n                        if (direction === undefined) {\n                            $(touchObj).trigger('swipeLeft');\n                        }\n                        if (direction === 'left') {\n                            callback();\n                        }\n                    }\n                }\n                // top and bottom\n                if (x1 !== null && Math.abs(x2 - x1) < changeWidth ) {\n                    if (y2 - y1 > changeHeight) {\n                        if (direction === undefined) {\n                            $(touchObj).trigger('swipeTop');\n                        }\n                        if (direction === 'top') {\n                            callback();\n                        }\n\n                    } else if (y1 - y2 > changeHeight) {\n                        if (direction === undefined) {\n                            $(touchObj).trigger('swipeBottom');\n                        }\n                        if (direction === 'bottom') {\n                            callback();\n                        }\n                    }\n                }\n                x1 = null;\n                x2 = null;\n                y1 = null;\n                y2 = null;\n            });\n        });\n        return this;\n    };\n    \n    /*way 1*/\n    $('.pages').swipe().on({\n        swipeLeft: function() {\n            swipePage('next');\n        }, swipeRight: function() {\n            swipePage('prev');\n        }\n    });\n    /*way 2*/\n    /*$('.pages').swipe('left', function(){\n        swipePage('next');\n    }).swipe('right', function() {\n        swipePage('prev');\n    });*/\n    $('.pages').each(function() {\n        this.addEventListener('gestureend', function(event) {\n            if (event.scale < 1) {\n                window.location.hash = '';\n                window.location.pathname = '/';\n            }\n        });\n    });\n    \n    function swipePage(direction) {\n        var num = headerNav.find('.each-nav').length;\n        var curr = body.attr('data-page') - 1;\n        var prev = curr - 1 >= 0 ? curr - 1 : num - 1;\n        var next = curr + 1 <= num - 1 ? curr + 1 : 0;\n        var hash = window.location.hash;\n        if (direction === 'prev') {\n            headerNav.find('.each-nav').eq(prev).trigger(defaultEvent.click);\n            // hash = pageString + (prev + 1);\n        } else if (direction === 'next') {\n            headerNav.find('.each-nav').eq(next).trigger(defaultEvent.click);\n            // hash = pageString + (next + 1);\n        }\n    }\n}\n","var ua = window.navigator.userAgent.toLowerCase();//alert(ua);\nwindow.platform = {\n    isiPad: ua.match(/ipad/i) !== null,\n    isiPhone: ua.match(/iphone/i) !== null,\n    isAndroid: ua.match(/android/i) !== null,\n    isBustedAndroid: ua.match(/android 2\\.[12]/) !== null,\n    isAndroid23: ua.match(/android 2\\.3/i) !== null,\n    isAndroid404: ua.match(/android 4\\.0\\.4/i) !== null,\n    isAndroid412: ua.match(/android 4\\.1\\.2/i) !== null,\n    isAndroid422: ua.match(/android 4\\.2\\.2/i) !== null,\n    isAndroid43: ua.match(/android 4\\.3/i) !== null,\n    isAndroid4: ua.match(/android 4/i) !== null,\n    isAndroid5: ua.match(/android 5/i) !== null,\n    isNexus: ua.match(/nexus/i) !== null,\n    isDuos: ua.match(/gt\\-s7562/i) !== null,\n    isS3: ua.match(/gt\\-i9300/i) !== null,\n    isS4: ua.match(/gt\\-i9500/i) !== null,\n    isNote3: ua.match(/sm\\-n900/i) !== null,\n    isIE: /(msie|trident)/i.test(navigator.userAgent), //window.navigator.appName.indexOf(\"Microsoft\") !== -1,\n    isIE8: ua.match(/msie 8/) !== null,\n    isIE9: ua.match(/msie 9/) !== null,\n    isIE10: ua.match(/msie 10/) !== null,\n    isChrome: ua.match(/Chrome/gi) !== null,\n    isFirefox: ua.match(/firefox/gi) !== null,\n    isWebkit: ua.match(/webkit/gi) !== null,\n    isGecko: ua.match(/gecko/gi) !== null,\n    isOpera: ua.match(/opera/gi) !== null,\n    ltIE9 : $(\"html\").hasClass(\"lt-ie9\"),\n    isMobile: navigator.userAgent.match(/Android|webOS|iPhone|iPod|BlackBerry|IEMobile/i) && navigator.userAgent.match(/Mobile/i) !== null,\n    hasTouch: ('ontouchstart' in window),\n    supportsSvg: !! document.createElementNS && !! document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect\n};\n\nwindow.platform.isAndroidPad = platform.isAndroid && !platform.isMobile;\nwindow.platform.isTablet = platform.isiPad || platform.isAndroidPad;\nwindow.platform.isDesktop = !(platform.isMobile || platform.isTablet);\nwindow.platform.isIOS = platform.isiPad || platform.isiPhone;\nwindow.platform.isIOS5 = window.platform.isIOS && ua.match(/os 5/i) !== null;\nwindow.platform.isIOS6 = window.platform.isIOS && ua.match(/os 6/i) !== null;\nwindow.platform.isIOS7 = window.platform.isIOS && ua.match(/os 7/i) !== null;\nwindow.platform.isIOS8 = window.platform.isIOS && ua.match(/os 8/i) !== null;"],"sourceRoot":"/source/"}